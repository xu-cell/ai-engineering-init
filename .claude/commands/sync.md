# /sync - é¡¹ç›®ä»£ç çŠ¶æ€åŒæ­¥

ä¸€é”®åŒæ­¥åç«¯ä»£ç çŠ¶æ€ã€ç”Ÿæˆé¡¹ç›®æ–‡æ¡£ã€ç¡®ä¿ä»£ç ä¸æ–‡æ¡£æ•°æ®ä¸€è‡´ã€‚é€‚åˆå®šæœŸæ•´ç†æˆ–å‘ç°æ•°æ®ä¸ä¸€è‡´æ—¶ä½¿ç”¨ã€‚

---

## é€‚ç”¨åœºæ™¯

| åœºæ™¯ | è¯´æ˜ |
|------|------|
| **å®šæœŸæ•´ç†** | æ¯å‘¨æœ«æ•´ç†é¡¹ç›®ä»£ç çŠ¶æ€å’Œæ–‡æ¡£ |
| **æ•°æ®ä¸ä¸€è‡´** | æ‰‹åŠ¨ä¿®æ”¹è¿‡ä»£ç æˆ–æ–‡æ¡£åéœ€è¦é‡æ–°åŒæ­¥ |
| **é¡¹ç›®äº¤æ¥** | æ–°æˆå‘˜åŠ å…¥æˆ–é¡¹ç›®äº¤æ¥æ—¶å…¨é‡æ£€æŸ¥ |
| **æ„å»ºæŠ¥å‘Š** | ç”Ÿæˆå®Œæ•´çš„é¡¹ç›®çŠ¶æ€æŠ¥å‘Šä¾›ç®¡ç†è€…æŸ¥çœ‹ |
| **ä»£ç å®¡æŸ¥** | ä»£ç å®¡æŸ¥å‰åŒæ­¥ç¡®ä¿ä¿¡æ¯å®Œæ•´å‡†ç¡® |

---

## æ‰§è¡Œæµç¨‹

### ç¬¬ä¸€æ­¥ï¼šæ‰«æåç«¯ä»£ç çŠ¶æ€ï¼ˆå¼ºåˆ¶æ‰§è¡Œï¼‰

#### 1.1 æ‰«æä¸šåŠ¡æ¨¡å—å’ŒåŠŸèƒ½å®Œæ•´æ€§

```bash
# æŸ¥æ‰¾æ ¸å¿ƒä¸šåŠ¡æ¨¡å—çš„ Controller
Glob pattern: "sys-canteen/src/main/java/**/controller/*Controller.java"
Glob pattern: "sys-kitchen/src/main/java/**/controller/*Controller.java"
Glob pattern: "sys-drp/src/main/java/**/controller/*Controller.java"
Glob pattern: "sys-common/src/main/java/**/controller/*Controller.java"

# åŸºç¡€è®¾æ–½æ¨¡å—ï¼ˆä¸ç»Ÿè®¡ï¼‰ï¼šcore-baseã€core-aggregatorã€sys-openã€sys-logistics
```

å¯¹æ¯ä¸ªåŠŸèƒ½æ£€æŸ¥ **8 ä¸ªå¿…éœ€çš„æ–‡ä»¶**ï¼ˆleniu å››å±‚æ¶æ„ï¼‰ï¼š

| ç±»å‹ | æ–‡ä»¶ | å®Œæ•´è·¯å¾„ | å¿…é¡» |
|------|------|---------|------|
| Entity | `XxxInfo.java` | `common/model/XxxInfo.java` | âœ… |
| DTO | `XxxInfoDTO.java` | `web/dto/XxxInfoDTO.java` | âœ… |
| VO | `XxxInfoVO.java` | `web/vo/XxxInfoVO.java` | âœ… |
| Mapper | `XxxInfoMapper.java` | `common/mapper/XxxInfoMapper.java` | âœ… |
| MapperXML | `XxxInfoMapper.xml` | `common/mapper/XxxInfoMapper.xml` | âœ… |
| Service | `XxxInfoService.java` | `common/service/impl/XxxInfoService.java` | âœ… |
| Business | `XxxWebBusiness.java` | `web/business/impl/XxxWebBusiness.java` | âœ… |
| Controller | `XxxWebController.java` | `web/controller/XxxWebController.java` | âœ… |

#### 1.2 æ‰«æä»£ç è§„èŒƒé—®é¢˜

```bash
# æ£€æŸ¥åŒ…åé—®é¢˜
Grep pattern: "package org\.dromara\.|package com\.ruoyi\." path: sys-canteen/,sys-kitchen/,sys-drp/ output_mode: files_with_matches

# æ£€æŸ¥ç¦æ­¢ä½¿ç”¨çš„å·¥å…·ç±»
Grep pattern: "MapstructUtils|ServiceException" path: sys-canteen/,sys-kitchen/,sys-drp/ glob: "*.java" output_mode: files_with_matches

# æ£€æŸ¥å®¡è®¡å­—æ®µå‘½å
Grep pattern: "private.*createBy|private.*updateBy|private.*createTime|private.*updateTime" path: sys-canteen/,sys-kitchen/,sys-drp/ glob: "*.java" output_mode: files_with_matches

# æ£€æŸ¥ del_flag é”™è¯¯å€¼
Grep pattern: "delFlag.*=.*0\b|del_flag.*=.*0\b" path: sys-canteen/,sys-kitchen/,sys-drp/ glob: "*.java" output_mode: files_with_matches

# æ£€æŸ¥æƒé™æ³¨è§£
Grep pattern: "@RequiresAuthentication|@RequiresGuest" path: sys-canteen/,sys-kitchen/,sys-drp/ glob: "*Controller.java" output_mode: files_with_matches
```

#### 1.3 æ‰«æ Git æäº¤è®°å½•

```bash
# è·å–æœ€è¿‘ 30 æ¡æäº¤
git log -30 --oneline --format="%h %s %ad" --date=short

# ç»Ÿè®¡ä¸šåŠ¡ç›¸å…³æäº¤ï¼ˆfeat/fix/update/add/refactorï¼‰
```

#### 1.4 æ‰«æ TODO/FIXME æ ‡è®°

```bash
# æ‰«ææ‰€æœ‰ä¸šåŠ¡ä»£ç ä¸­çš„å¾…åŠæ ‡è®°
Grep pattern: "TODO:|FIXME:|XXX:" path: sys-canteen/,sys-kitchen/,sys-drp/,sys-common/ glob: "*.java" output_mode: content -B 1
```

#### 1.5 ç”Ÿæˆä»£ç æ‰«æç»“æœ

**è¾“å‡ºæ ¼å¼**ï¼š
```markdown
## ä»£ç æ‰«æç»“æœ

### æ¨¡å—å®Œæ•´æ€§åˆ†æ
| æ¨¡å— | åŠŸèƒ½æ•° | å®Œæˆæ•° | å®Œæˆç‡ | çŠ¶æ€ |
|------|--------|--------|--------|------|
| sys-canteen | X | X | XX% | [çŠ¶æ€] |
| sys-kitchen | X | X | XX% | [çŠ¶æ€] |
| sys-drp | X | X | XX% | [çŠ¶æ€] |
| sys-common | X | X | XX% | [çŠ¶æ€] |

### ä»£ç è§„èŒƒæ£€æŸ¥
| æ£€æŸ¥é¡¹ | é€šè¿‡ | è­¦å‘Š | é”™è¯¯ |
|--------|------|------|------|
| åŒ…åè§„èŒƒ (net.xnzn.core.*) | âœ… | 0 | 0 |
| æƒé™æ³¨è§£å®Œæ•´åº¦ | âš ï¸ | 2 | 0 |
| å®¡è®¡å­—æ®µè§„èŒƒ | âœ… | 0 | 0 |
| del_flag å€¼è¯­ä¹‰ | âœ… | 0 | 0 |

### å¾…åŠç»Ÿè®¡
- ğŸ”¥ FIXME (é«˜): X é¡¹
- ğŸ“Œ TODO (ä¸­): X é¡¹
```

---

### ç¬¬äºŒæ­¥ï¼šåˆ†æ Git æäº¤å†å²

#### 2.1 æœ€è¿‘æäº¤åˆ†æ

```bash
# è·å–æœ€è¿‘æäº¤çš„åŠŸèƒ½ä¿¡æ¯
git log -5 --oneline
```

**åˆ†æå†…å®¹**ï¼š
- æœ€è¿‘åœ¨åšä»€ä¹ˆåŠŸèƒ½
- æ˜¯å¦æœ‰ FIXME/BUG ç›¸å…³çš„æäº¤
- ä»£ç æ´»è·ƒåº¦

#### 2.2 åŠŸèƒ½äº¤ä»˜è®°å½•

æ ¹æ® Git æäº¤å†å²ï¼š
- æ ‡è®°ä»£ç ä¸­å®Œæˆçš„åŠŸèƒ½
- è¯†åˆ«æ­£åœ¨è¿›è¡Œçš„åŠŸèƒ½
- ç»Ÿè®¡æœ¬å‘¨/æœ¬æœˆå®ŒæˆåŠŸèƒ½æ•°

---

### ç¬¬ä¸‰æ­¥ï¼šæ•´åˆæ£€æŸ¥ç»“æœ

#### 3.1 ä¸ `/check` å‘½ä»¤åŒæ­¥

```bash
# å¦‚æœæœ€è¿‘æ²¡æœ‰è¿è¡Œè¿‡ /checkï¼Œåˆ™æ‰§è¡Œå…¨é‡æ£€æŸ¥
/check

# æå–æ£€æŸ¥ç»“æœä¸­çš„ï¼š
# - ä¸¥é‡é—®é¢˜æ•°é‡
# - è­¦å‘Šé—®é¢˜æ•°é‡
# - éœ€è¦ä¿®å¤çš„é—®é¢˜æ¸…å•
```

#### 3.2 ä¸ `/progress` å‘½ä»¤åŒæ­¥

```bash
# è·å–é¡¹ç›®è¿›åº¦ä¿¡æ¯
/progress

# æå–æ•°æ®ï¼š
# - å„æ¨¡å—å®Œæˆç‡
# - å¾…å®ŒæˆåŠŸèƒ½åˆ—è¡¨
# - ä»£ç è´¨é‡è¯„åˆ†
```

#### 3.3 ç”Ÿæˆç»¼åˆåˆ†æ

**è¾“å‡ºä¿¡æ¯**ï¼š
- ä¸ä¸Šæ¬¡åŒæ­¥ç›¸æ¯”çš„å˜åŒ–ï¼ˆæ–°å¢/å®Œæˆ/ä¿®å¤ï¼‰
- é˜»å¡é¡¹ï¼ˆé«˜ä¼˜å…ˆçº§ FIXME æœªä¿®å¤ï¼‰
- å»ºè®®ï¼ˆåŸºäº /next çš„åˆ†æï¼‰

---

### ç¬¬å››æ­¥ï¼šç”Ÿæˆé¡¹ç›®åŒæ­¥æŠ¥å‘Š

```markdown
# é¡¹ç›®ä»£ç çŠ¶æ€åŒæ­¥æŠ¥å‘Š

**åŒæ­¥æ—¶é—´**ï¼šYYYY-MM-DD HH:mm
**ä¸Šæ¬¡åŒæ­¥**ï¼šYYYY-MM-DDï¼ˆè·ä»Š X å¤©ï¼‰

---

## æœ€æ–°è¿›å±•

### Git æäº¤æ‘˜è¦
- **æœ€æ–°æäº¤**ï¼š[commit message] ([hash])
- **æœ€è¿‘ 7 å¤©**ï¼šX æ¬¡æäº¤ï¼Œæ¶‰åŠ X ä¸ªåŠŸèƒ½æ¨¡å—
- **æäº¤æ´»è·ƒåº¦**ï¼š[æ´»è·ƒ/æ­£å¸¸/ä½æ´»è·ƒ]

### ä»£ç å®Œæˆåº¦
| æ¨¡å— | åŠŸèƒ½æ•° | å®Œæˆ | è¿›è¡Œä¸­ | å¾…å¼€å‘ | å®Œæˆç‡ |
|------|--------|------|--------|--------|---------|
| sys-canteen | X | X | X | X | XX% |
| sys-kitchen | X | X | X | X | XX% |
| sys-drp | X | X | X | X | XX% |
| sys-common | X | X | X | X | XX% |
| **åˆè®¡** | **X** | **X** | **X** | **X** | **XX%** |

---

## ç´§æ€¥é—®é¢˜ï¼ˆå¿…é¡»ç«‹å³å¤„ç†ï¼‰

### é«˜ä¼˜å…ˆçº§ FIXME
| æ–‡ä»¶ | è¡Œå· | é—®é¢˜ | å½±å“ |
|------|------|------|------|
| [æ–‡ä»¶å].java | [è¡Œå·] | [é—®é¢˜æè¿°] | [å½±å“èŒƒå›´] |

**å¤„ç†å»ºè®®**ï¼š
/check [æ¨¡å—å]  # æŸ¥çœ‹è¯¦ç»†é—®é¢˜
/next             # è·å–ä¿®å¤å»ºè®®

---

## ä»£ç è§„èŒƒæ£€æŸ¥ç»“æœ

### æ€»ä½“è¯„åˆ†
| ç»´åº¦ | è¯„åˆ† | è¯´æ˜ |
|------|------|------|
| åŒ…åè§„èŒƒ | âœ… | æ‰€æœ‰åŒ…åç¬¦åˆ net.xnzn.core.* è§„èŒƒ |
| æƒé™æ³¨è§£ | âš ï¸ | 3 ä¸ªæ¥å£ç¼ºå°‘ @RequiresAuthentication |
| å®¡è®¡å­—æ®µ | âœ… | æ­£ç¡®ä½¿ç”¨ crby/crtime/upby/uptime |
| del_flag è¯­ä¹‰ | âœ… | æ­£ç¡®ä½¿ç”¨ 2=æ­£å¸¸ï¼Œ1=åˆ é™¤ |
| å¯¹è±¡è½¬æ¢ | âœ… | æ­£ç¡®ä½¿ç”¨ BeanUtil.copyProperties() |
| è¯·æ±‚å°è£… | âš ï¸ | 2 å¤„ POST æ¥å£æœªä½¿ç”¨ LeRequest<T> |

### éœ€è¦ä¿®å¤çš„é—®é¢˜
1. **æƒé™æ³¨è§£ç¼ºå¤±**ï¼ˆX é¡¹ï¼‰
   - [Controlleræ–‡ä»¶å].java

2. **LeRequest<T> å°è£…ç¼ºå¤±**ï¼ˆX é¡¹ï¼‰
   - [Controlleræ–‡ä»¶å].java

---

## å¾…åŠäº‹é¡¹æ›´æ–°

### æ–°å¢å¾…åŠï¼ˆæœ¬æ¬¡æ‰«æå‘ç°ï¼‰
- [ ] [FIXME æè¿°]ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰
- [ ] [TODO æè¿°]ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰

### æœ¬å‘¨å®Œæˆçš„å¾…åŠ
- [x] [å·²å®ŒæˆåŠŸèƒ½æè¿°]

### å½“å‰è¿›è¡Œä¸­
| ä»»åŠ¡ | ä¼˜å…ˆçº§ | è¿›åº¦ | é¢„è®¡å®Œæˆ |
|------|--------|------|---------|
| [ä»»åŠ¡æè¿°] | [ä¼˜å…ˆçº§] | XX% | [æ—¶é—´] |

---

## ä¸å…¶ä»–å‘½ä»¤çš„åä½œ

### å·¥ä½œæµå»ºè®®
1. **æ—¥å¸¸å¼€å‘** â†’ `/update-status` å¢é‡æ›´æ–°
2. **æ¯å‘¨æœ«** â†’ `/sync` å…¨é‡åŒæ­¥ï¼Œç”ŸæˆæŠ¥å‘Š
3. **é‡åˆ°é—®é¢˜** â†’ `/check` æ£€æŸ¥ä»£ç è§„èŒƒ
4. **è§„åˆ’å·¥ä½œ** â†’ `/progress` æŸ¥çœ‹è¿›åº¦ï¼Œ`/next` è·å–å»ºè®®
5. **äº¤æ¥æ–°äºº** â†’ `/start` å¿«é€Ÿäº†è§£ï¼Œ`/sync` æŸ¥çœ‹æœ€æ–°çŠ¶æ€

### å‘½ä»¤å…³ç³»å›¾
```
/start (å¿«é€Ÿäº†è§£)
   â†“
/crud or /dev (å¼€å‘æ–°åŠŸèƒ½)
   â†“
/check (æ£€æŸ¥è§„èŒƒ)
   â†“
/sync (åŒæ­¥å¹¶ç”ŸæˆæŠ¥å‘Š) â† æ‚¨åœ¨è¿™é‡Œ
   â†“
/progress (æŸ¥çœ‹è¿›åº¦)
   â†“
/next (è·å–å»ºè®®)
```

---

## æ£€æŸ¥é€šè¿‡é¡¹

- [x] åŒ…åè§„èŒƒï¼ˆnet.xnzn.core.*ï¼‰
- [x] å¯¹è±¡è½¬æ¢ï¼ˆBeanUtil.copyProperties()ï¼‰
- [x] å®¡è®¡å­—æ®µæ­£ç¡®ï¼ˆcrby/crtime/upby/uptimeï¼‰
- [x] del_flag è¯­ä¹‰æ­£ç¡®ï¼ˆ2=æ­£å¸¸ï¼Œ1=åˆ é™¤ï¼‰
- [x] Mapper ç»§æ‰¿æ­£ç¡®ï¼ˆBaseMapper<Entity>ï¼‰
- [x] æ—  tenant_id å­—æ®µï¼ˆåŒåº“ç‰©ç†éš”ç¦»ï¼‰

---

## åŒæ­¥è¯´æ˜

- æœ¬æŠ¥å‘ŠåŸºäºå½“å‰ä»£ç æ‰«æã€Git æäº¤å’Œè§„èŒƒæ£€æŸ¥ç»¼åˆç”Ÿæˆ
- ä¸ `/progress` çš„åŒºåˆ«ï¼š/progress åªè¯»æŸ¥çœ‹ï¼Œ/sync ç”Ÿæˆç»¼åˆæŠ¥å‘Š
- ä¸ `/check` çš„å…³ç³»ï¼š/check æ£€æŸ¥ä»£ç è§„èŒƒï¼Œ/sync æ•´åˆæ£€æŸ¥ç»“æœ
- å»ºè®®æ¯å‘¨è¿è¡Œä¸€æ¬¡ `/sync` å‘½ä»¤è¿›è¡Œå®šæœŸæ•´ç†
- å‘ç°æ•°æ®ä¸ä¸€è‡´æ—¶ç«‹å³è¿è¡Œ `/sync` è¿›è¡Œå…¨é‡åŒæ­¥
- åŒæ­¥æŠ¥å‘Šé»˜è®¤ä¿å­˜åˆ° `docs/sync-report-YYYY-MM-DD.md`

---

## ç›¸å…³å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ | ä½•æ—¶ä½¿ç”¨ |
|------|------|---------|
| `/start` | å¿«é€Ÿäº†è§£é¡¹ç›® | åˆæ¬¡æ¥è§¦é¡¹ç›® |
| `/check` | ä»£ç è§„èŒƒæ£€æŸ¥ | å¼€å‘å®Œæˆå |
| `/progress` | æŸ¥çœ‹é¡¹ç›®è¿›åº¦ | äº†è§£å®Œæˆæƒ…å†µ |
| `/next` | è·å–ä¸‹ä¸€æ­¥å»ºè®® | ä¸çŸ¥é“åšä»€ä¹ˆ |
| `/sync` | å…¨é‡åŒæ­¥æŠ¥å‘Š | æ¯å‘¨æ•´ç†ã€å‘ç°ä¸ä¸€è‡´ |
| `/update-status` | å¢é‡æ›´æ–°çŠ¶æ€ | æ—¥å¸¸ä½¿ç”¨ |
| `/dev` | å¼€å‘æ–°åŠŸèƒ½ | ä»é›¶å¼€å§‹ |
| `/crud` | å¿«é€Ÿç”Ÿæˆä»£ç  | è¡¨å·²å­˜åœ¨æ—¶ |
