# æ–°åŠŸèƒ½å¼€å‘æµç¨‹è§„èŒƒ

> **é‡è¦æç¤º**: æœ¬æ–‡æ¡£è§„å®šäº†ä»é›¶å¼€å‘æ–°åŠŸèƒ½çš„å®Œæ•´æµç¨‹ã€‚
> **æ³¨æ„**: æœ¬é¡¹ç›®æ˜¯ RuoYi-Vue-Plus **çº¯åç«¯é¡¹ç›®**ï¼Œé‡‡ç”¨**ä¸‰å±‚æ¶æ„**ï¼ˆæ—  DAO å±‚ï¼‰ã€‚

æœ€åæ›´æ–°: 2026-02-09

---

## ğŸ“‹ å¼€å‘æµç¨‹æ€»è§ˆ

```
ç¬¬ä¸€æ­¥: éœ€æ±‚åˆ†æä¸è®¾è®¡
    â†“
ç¬¬äºŒæ­¥: è®¾è®¡æ•°æ®åº“è¡¨ç»“æ„
    â†“
ç¬¬ä¸‰æ­¥: ç”Ÿæˆèœå• SQL
    â†“
ç¬¬å››æ­¥: ç”Ÿæˆåç«¯ä»£ç ï¼ˆä¸‰å±‚æ¶æ„ï¼‰
    â†“
ç¬¬äº”æ­¥: å¼€å‘ä¸šåŠ¡é€»è¾‘
    â†“
ç¬¬å…­æ­¥: æµ‹è¯•ä¸éªŒè¯
```

---

## ğŸ—ï¸ æ ¸å¿ƒæ¶æ„ï¼ˆå¿…é¡»ç‰¢è®°ï¼‰

| é¡¹ç›® | è§„èŒƒ |
|------|------|
| **åŒ…å** | `org.dromara.*`ï¼ˆç¦æ­¢ `com.ruoyi.*`ã€`plus.ruoyi.*`ï¼‰ |
| **æ¶æ„** | ä¸‰å±‚ï¼šController â†’ Service â†’ Mapperï¼ˆ**æ—  DAO å±‚**ï¼‰ |
| **æŸ¥è¯¢æ„å»º** | Service å±‚ `buildQueryWrapper()` |
| **Mapper ç»§æ‰¿** | `BaseMapperPlus<Entity, VO>` |
| **å¯¹è±¡è½¬æ¢** | `MapstructUtils.convert()` |
| **Entity åŸºç±»** | `TenantEntity`ï¼ˆå¤šç§Ÿæˆ·ï¼‰ |
| **BO æ˜ å°„** | `@AutoMapper` æ³¨è§£ï¼ˆå•æ•°ï¼Œä¸æ˜¯ `@AutoMappers`ï¼‰ |
| **ä¸»é”®ç­–ç•¥** | é›ªèŠ± IDï¼ˆä¸ç”¨ AUTO_INCREMENTï¼‰ |
| **API è·¯å¾„** | æ ‡å‡† RESTfulï¼š`/list`ã€`/{id}` |

---

## ğŸ“ ç¬¬ä¸€æ­¥: éœ€æ±‚åˆ†æä¸è®¾è®¡

### 1.1 æ˜ç¡®åŠŸèƒ½éœ€æ±‚

åœ¨å¼€å§‹å¼€å‘å‰ï¼Œæ˜ç¡®ä»¥ä¸‹å†…å®¹ï¼š
- åŠŸèƒ½åç§°å’Œç”¨é€”
- éœ€è¦å“ªäº›å­—æ®µ
- ä¸šåŠ¡è§„åˆ™å’Œæ ¡éªŒ
- æƒé™æ§åˆ¶è¦æ±‚

### 1.2 ç¡®å®šæ¨¡å—ä½ç½®

| ä¸šåŠ¡é¢†åŸŸ | æ¨¡å—ç›®å½• | åŒ…è·¯å¾„ | è¡¨å‰ç¼€ |
|---------|---------|--------|--------|
| ç³»ç»Ÿç®¡ç† | `ruoyi-modules/ruoyi-system/` | `org.dromara.system` | `sys_` |
| æ¼”ç¤ºæ¨¡å— | `ruoyi-modules/ruoyi-demo/` | `org.dromara.demo` | `test_` |
| å·¥ä½œæµ | `ruoyi-modules/ruoyi-workflow/` | `org.dromara.workflow` | `flow_` |
| å•†åŸä¸šåŠ¡ | `ruoyi-modules/ruoyi-mall/` | `org.dromara.mall` | `m_` |
| è‡ªå®šä¹‰ | `ruoyi-modules/ruoyi-xxx/` | `org.dromara.xxx` | `xxx_` |

---

## ğŸ“ ç¬¬äºŒæ­¥: è®¾è®¡æ•°æ®åº“è¡¨ç»“æ„

### 2.1 è¡¨è®¾è®¡è§„èŒƒ

#### âœ… å‘½åè§„èŒƒ

| é¡¹ç›® | è§„èŒƒ | ç¤ºä¾‹ |
|------|------|------|
| **è¡¨å** | å‰ç¼€ + ä¸šåŠ¡åç§° | `m_goods`ï¼ˆå•†åŸå•†å“ï¼‰ |
| **ä¸»é”®** | `id`ï¼ˆé›ªèŠ± IDï¼‰ | `id BIGINT(20) NOT NULL` |
| **å¤–é”®** | `å…³è”è¡¨_id` | `user_id`, `goods_id` |
| **çŠ¶æ€å­—æ®µ** | `status` | `status CHAR(1) DEFAULT '1'` |
| **åˆ é™¤æ ‡è®°** | `del_flag` | `del_flag CHAR(1) DEFAULT '0'` |

#### âœ… å»ºè¡¨æ¨¡æ¿ï¼ˆå¿…é¡»åŒ…å«çš„å­—æ®µï¼‰

```sql
CREATE TABLE xxx_table (
    -- ä¸»é”®ï¼ˆé›ªèŠ± IDï¼Œä¸ç”¨ AUTO_INCREMENTï¼‰
    id              BIGINT(20)    NOT NULL COMMENT 'ä¸»é”®ID',

    -- å¤šç§Ÿæˆ·å­—æ®µï¼ˆå¿…é¡»ï¼‰
    tenant_id       VARCHAR(20)   DEFAULT '000000' COMMENT 'ç§Ÿæˆ·ID',

    -- ä¸šåŠ¡å­—æ®µ
    xxx_name        VARCHAR(100)  NOT NULL COMMENT 'åç§°',
    status          CHAR(1)       DEFAULT '1' COMMENT 'çŠ¶æ€(0åœç”¨ 1æ­£å¸¸)',
    remark          VARCHAR(500)  DEFAULT NULL COMMENT 'å¤‡æ³¨',

    -- å®¡è®¡å­—æ®µï¼ˆå¿…é¡»ï¼Œç»§æ‰¿è‡ª TenantEntityï¼‰
    create_dept     BIGINT(20)    DEFAULT NULL COMMENT 'åˆ›å»ºéƒ¨é—¨',
    create_by       BIGINT(20)    DEFAULT NULL COMMENT 'åˆ›å»ºäºº',
    create_time     DATETIME      DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
    update_by       BIGINT(20)    DEFAULT NULL COMMENT 'æ›´æ–°äºº',
    update_time     DATETIME      DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',

    -- é€»è¾‘åˆ é™¤ï¼ˆå¿…é¡»ï¼‰
    del_flag        CHAR(1)       DEFAULT '0' COMMENT 'åˆ é™¤æ ‡å¿—(0æ­£å¸¸ 1å·²åˆ é™¤)',

    PRIMARY KEY (id),
    INDEX idx_tenant_id (tenant_id),
    INDEX idx_status (status)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='xxxè¡¨';
```

### 2.2 SQL æ–‡ä»¶å­˜æ”¾ä½ç½®

| ç±»å‹ | ä½ç½® |
|------|------|
| ç³»ç»Ÿè¡¨ | `script/sql/ry_vue_5.X.sql` |
| ä¸šåŠ¡è¡¨ | `script/sql/` ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶ |

---

## ğŸ¯ ç¬¬ä¸‰æ­¥: ç”Ÿæˆèœå• SQL

### 3.1 èœå•è¡¨ç»“æ„

```sql
INSERT INTO sys_menu VALUES (
    menu_id,        -- èœå•IDï¼ˆå”¯ä¸€ï¼Œä»å·²æœ‰æœ€å¤§ID+10å¼€å§‹ï¼‰
    'menu_name',    -- èœå•åç§°ï¼ˆä¸­æ–‡ï¼‰
    parent_id,      -- çˆ¶èœå•IDï¼ˆä¸€çº§ç›®å½•ä¸º0ï¼‰
    order_num,      -- æ’åºå€¼
    'path',         -- è·¯ç”±åœ°å€
    'component',    -- ç»„ä»¶è·¯å¾„
    NULL,           -- è·¯ç”±å‚æ•°
    '0',            -- æ˜¯å¦å¤–é“¾
    '1',            -- èœå•çŠ¶æ€
    'menu_type',    -- èœå•ç±»å‹ï¼ˆMç›®å½• Cèœå• FæŒ‰é’®ï¼‰
    '1',            -- æ˜¾ç¤ºçŠ¶æ€
    '1',            -- çŠ¶æ€
    'permission',   -- æƒé™æ ‡è¯†ç¬¦
    'icon',         -- èœå•å›¾æ ‡
    103,            -- åˆ›å»ºéƒ¨é—¨
    1,              -- åˆ›å»ºäºº
    sysdate(),      -- åˆ›å»ºæ—¶é—´
    NULL,           -- æ›´æ–°äºº
    NULL,           -- æ›´æ–°æ—¶é—´
    'remark'        -- å¤‡æ³¨
);
```

### 3.2 æƒé™æ ‡è¯†ç¬¦å‘½åè§„èŒƒ

| æ“ä½œ | æƒé™æ ‡è¯†ç¬¦ | è¯´æ˜ |
|------|-----------|------|
| **åˆ—è¡¨** | `æ¨¡å—:åŠŸèƒ½:list` | `demo:xxx:list` |
| **æŸ¥è¯¢** | `æ¨¡å—:åŠŸèƒ½:query` | `demo:xxx:query` |
| **æ–°å¢** | `æ¨¡å—:åŠŸèƒ½:add` | `demo:xxx:add` |
| **ä¿®æ”¹** | `æ¨¡å—:åŠŸèƒ½:edit` | `demo:xxx:edit` |
| **åˆ é™¤** | `æ¨¡å—:åŠŸèƒ½:remove` | `demo:xxx:remove` |
| **å¯¼å‡º** | `æ¨¡å—:åŠŸèƒ½:export` | `demo:xxx:export` |

### 3.3 å®Œæ•´èœå• SQL ç¤ºä¾‹

```sql
-- åŠŸèƒ½èœå•ï¼ˆäºŒçº§èœå•ï¼‰
INSERT INTO sys_menu VALUES (
    3010, 'XXXç®¡ç†', 2000, 10, 'xxx', 'demo/xxx/index',
    NULL, '0', '1', 'C', '1', '1', 'demo:xxx:list', 'list',
    103, 1, sysdate(), NULL, NULL, 'XXXç®¡ç†èœå•'
);

-- æŒ‰é’®æƒé™
INSERT INTO sys_menu VALUES (3011, 'XXXæŸ¥è¯¢', 3010, 1, '#', '', NULL, '0', '1', 'F', '1', '1', 'demo:xxx:query', '#', 103, 1, sysdate(), NULL, NULL, '');
INSERT INTO sys_menu VALUES (3012, 'XXXæ–°å¢', 3010, 2, '#', '', NULL, '0', '1', 'F', '1', '1', 'demo:xxx:add', '#', 103, 1, sysdate(), NULL, NULL, '');
INSERT INTO sys_menu VALUES (3013, 'XXXä¿®æ”¹', 3010, 3, '#', '', NULL, '0', '1', 'F', '1', '1', 'demo:xxx:edit', '#', 103, 1, sysdate(), NULL, NULL, '');
INSERT INTO sys_menu VALUES (3014, 'XXXåˆ é™¤', 3010, 4, '#', '', NULL, '0', '1', 'F', '1', '1', 'demo:xxx:remove', '#', 103, 1, sysdate(), NULL, NULL, '');
INSERT INTO sys_menu VALUES (3015, 'XXXå¯¼å‡º', 3010, 5, '#', '', NULL, '0', '1', 'F', '1', '1', 'demo:xxx:export', '#', 103, 1, sysdate(), NULL, NULL, '');
```

---

## ğŸ”§ ç¬¬å››æ­¥: ç”Ÿæˆåç«¯ä»£ç ï¼ˆä¸‰å±‚æ¶æ„ï¼‰

### 4.1 ä»£ç ç”Ÿæˆé¡ºåº

```
1. Entity (å®ä½“ç±») â†’ extends TenantEntity
   â†“
2. BO (ä¸šåŠ¡å¯¹è±¡) â†’ @AutoMapper(target = Entity.class)
   â†“
3. VO (è§†å›¾å¯¹è±¡) â†’ @AutoMapper(target = Entity.class)
   â†“
4. Mapper (æ¥å£) â†’ extends BaseMapperPlus<Entity, Vo>
   â†“
5. Service æ¥å£ â†’ IXxxService
   â†“
6. Service å®ç° â†’ åŒ…å« buildQueryWrapper()
   â†“
7. Controller â†’ extends BaseController
```

### 4.2 åç«¯åŒ…ç»“æ„

```
ruoyi-modules/ruoyi-xxx/src/main/java/org/dromara/xxx/
â”œâ”€â”€ controller/
â”‚   â””â”€â”€ XxxController.java          # @RestController
â”œâ”€â”€ service/
â”‚   â”œâ”€â”€ IXxxService.java            # æœåŠ¡æ¥å£
â”‚   â””â”€â”€ impl/
â”‚       â””â”€â”€ XxxServiceImpl.java     # æœåŠ¡å®ç°ï¼ˆåŒ…å« buildQueryWrapperï¼‰
â”œâ”€â”€ mapper/
â”‚   â””â”€â”€ XxxMapper.java              # extends BaseMapperPlus<Xxx, XxxVo>
â””â”€â”€ domain/
    â”œâ”€â”€ Xxx.java                    # Entityï¼ˆextends TenantEntityï¼‰
    â”œâ”€â”€ bo/
    â”‚   â””â”€â”€ XxxBo.java              # ä¸šåŠ¡å¯¹è±¡ï¼ˆ@AutoMapperï¼‰
    â””â”€â”€ vo/
        â””â”€â”€ XxxVo.java              # è§†å›¾å¯¹è±¡
```

### 4.3 ä»£ç æ¨¡æ¿

#### Entityï¼ˆå®ä½“ç±»ï¼‰

```java
package org.dromara.xxx.domain;

import com.baomidou.mybatisplus.annotation.*;
import lombok.Data;
import lombok.EqualsAndHashCode;
import org.dromara.common.tenant.core.TenantEntity;

@Data
@EqualsAndHashCode(callSuper = true)
@TableName("xxx_table")
public class Xxx extends TenantEntity {

    @TableId(value = "id")
    private Long id;

    private String xxxName;
    private String status;
}
```

#### BOï¼ˆä¸šåŠ¡å¯¹è±¡ï¼‰

```java
package org.dromara.xxx.domain.bo;

import io.github.linpeilie.annotations.AutoMapper;
import jakarta.validation.constraints.*;
import lombok.Data;
import lombok.EqualsAndHashCode;
import org.dromara.common.core.validate.AddGroup;
import org.dromara.common.core.validate.EditGroup;
import org.dromara.common.mybatis.core.domain.BaseEntity;
import org.dromara.xxx.domain.Xxx;

@Data
@EqualsAndHashCode(callSuper = true)
@AutoMapper(target = Xxx.class, reverseConvertGenerate = false)  // âœ… å•æ•°
public class XxxBo extends BaseEntity {

    @NotNull(message = "IDä¸èƒ½ä¸ºç©º", groups = {EditGroup.class})
    private Long id;

    @NotBlank(message = "åç§°ä¸èƒ½ä¸ºç©º", groups = {AddGroup.class, EditGroup.class})
    private String xxxName;

    private String status;
}
```

#### VOï¼ˆè§†å›¾å¯¹è±¡ï¼‰

```java
package org.dromara.xxx.domain.vo;

import cn.idev.excel.annotation.ExcelIgnoreUnannotated;
import cn.idev.excel.annotation.ExcelProperty;
import io.github.linpeilie.annotations.AutoMapper;
import lombok.Data;
import org.dromara.xxx.domain.Xxx;
import java.io.Serializable;
import java.util.Date;

@Data
@ExcelIgnoreUnannotated
@AutoMapper(target = Xxx.class)
public class XxxVo implements Serializable {

    @ExcelProperty(value = "ID")
    private Long id;

    @ExcelProperty(value = "åç§°")
    private String xxxName;

    @ExcelProperty(value = "çŠ¶æ€")
    private String status;

    @ExcelProperty(value = "åˆ›å»ºæ—¶é—´")
    private Date createTime;
}
```

#### Mapperï¼ˆæ¥å£ï¼‰

```java
package org.dromara.xxx.mapper;

import org.dromara.common.mybatis.core.mapper.BaseMapperPlus;
import org.dromara.xxx.domain.Xxx;
import org.dromara.xxx.domain.vo.XxxVo;

public interface XxxMapper extends BaseMapperPlus<Xxx, XxxVo> {
    // ç»§æ‰¿ BaseMapperPlusï¼Œå·²æä¾› selectVoByIdã€selectVoPage ç­‰æ–¹æ³•
}
```

#### Service æ¥å£

```java
package org.dromara.xxx.service;

import org.dromara.common.mybatis.core.page.PageQuery;
import org.dromara.common.mybatis.core.page.TableDataInfo;
import org.dromara.xxx.domain.bo.XxxBo;
import org.dromara.xxx.domain.vo.XxxVo;
import java.util.Collection;
import java.util.List;

public interface IXxxService {

    XxxVo queryById(Long id);

    TableDataInfo<XxxVo> queryPageList(XxxBo bo, PageQuery pageQuery);

    List<XxxVo> queryList(XxxBo bo);

    Boolean insertByBo(XxxBo bo);

    Boolean updateByBo(XxxBo bo);

    Boolean deleteByIds(Collection<Long> ids);
}
```

#### Service å®ç°ï¼ˆâ­ æ ¸å¿ƒï¼šæ—  DAO å±‚ï¼‰

```java
package org.dromara.xxx.service.impl;

import com.baomidou.mybatisplus.core.conditions.query.LambdaQueryWrapper;
import com.baomidou.mybatisplus.core.toolkit.Wrappers;
import com.baomidou.mybatisplus.extension.plugins.pagination.Page;
import lombok.RequiredArgsConstructor;
import org.springframework.stereotype.Service;
import org.dromara.common.core.utils.MapstructUtils;
import org.dromara.common.core.utils.StringUtils;
import org.dromara.common.mybatis.core.page.PageQuery;
import org.dromara.common.mybatis.core.page.TableDataInfo;
import org.dromara.xxx.domain.Xxx;
import org.dromara.xxx.domain.bo.XxxBo;
import org.dromara.xxx.domain.vo.XxxVo;
import org.dromara.xxx.mapper.XxxMapper;
import org.dromara.xxx.service.IXxxService;
import java.util.Collection;
import java.util.List;
import java.util.Map;

@Service
@RequiredArgsConstructor
public class XxxServiceImpl implements IXxxService {

    private final XxxMapper baseMapper;  // âœ… ç›´æ¥æ³¨å…¥ Mapperï¼ˆæ—  DAO å±‚ï¼‰

    @Override
    public XxxVo queryById(Long id) {
        return baseMapper.selectVoById(id);
    }

    @Override
    public TableDataInfo<XxxVo> queryPageList(XxxBo bo, PageQuery pageQuery) {
        LambdaQueryWrapper<Xxx> lqw = buildQueryWrapper(bo);
        Page<XxxVo> result = baseMapper.selectVoPage(pageQuery.build(), lqw);
        return TableDataInfo.build(result);
    }

    @Override
    public List<XxxVo> queryList(XxxBo bo) {
        return baseMapper.selectVoList(buildQueryWrapper(bo));
    }

    @Override
    public Boolean insertByBo(XxxBo bo) {
        Xxx add = MapstructUtils.convert(bo, Xxx.class);  // âœ… MapstructUtils è½¬æ¢
        return baseMapper.insert(add) > 0;
    }

    @Override
    public Boolean updateByBo(XxxBo bo) {
        Xxx update = MapstructUtils.convert(bo, Xxx.class);
        return baseMapper.updateById(update) > 0;
    }

    @Override
    public Boolean deleteByIds(Collection<Long> ids) {
        return baseMapper.deleteByIds(ids) > 0;
    }

    /**
     * æ„å»ºæŸ¥è¯¢æ¡ä»¶ï¼ˆåœ¨ Service å±‚ï¼‰
     */
    private LambdaQueryWrapper<Xxx> buildQueryWrapper(XxxBo bo) {
        Map<String, Object> params = bo.getParams();
        LambdaQueryWrapper<Xxx> lqw = Wrappers.lambdaQuery();
        lqw.like(StringUtils.isNotBlank(bo.getXxxName()), Xxx::getXxxName, bo.getXxxName());
        lqw.eq(StringUtils.isNotBlank(bo.getStatus()), Xxx::getStatus, bo.getStatus());
        lqw.between(params.get("beginCreateTime") != null && params.get("endCreateTime") != null,
            Xxx::getCreateTime, params.get("beginCreateTime"), params.get("endCreateTime"));
        return lqw;
    }
}
```

#### Controller

```java
package org.dromara.xxx.controller;

import cn.dev33.satoken.annotation.SaCheckPermission;
import jakarta.servlet.http.HttpServletResponse;
import jakarta.validation.constraints.NotEmpty;
import jakarta.validation.constraints.NotNull;
import lombok.RequiredArgsConstructor;
import org.dromara.common.core.domain.R;
import org.dromara.common.core.validate.AddGroup;
import org.dromara.common.core.validate.EditGroup;
import org.dromara.common.excel.utils.ExcelUtil;
import org.dromara.common.log.annotation.Log;
import org.dromara.common.log.enums.BusinessType;
import org.dromara.common.mybatis.core.page.PageQuery;
import org.dromara.common.mybatis.core.page.TableDataInfo;
import org.dromara.common.web.core.BaseController;
import org.dromara.xxx.domain.bo.XxxBo;
import org.dromara.xxx.domain.vo.XxxVo;
import org.dromara.xxx.service.IXxxService;
import org.springframework.validation.annotation.Validated;
import org.springframework.web.bind.annotation.*;
import java.util.List;

@Validated
@RequiredArgsConstructor
@RestController
@RequestMapping("/xxx/xxx")
public class XxxController extends BaseController {

    private final IXxxService xxxService;

    /**
     * æŸ¥è¯¢åˆ—è¡¨
     */
    @SaCheckPermission("xxx:xxx:list")
    @GetMapping("/list")
    public TableDataInfo<XxxVo> list(XxxBo bo, PageQuery pageQuery) {
        return xxxService.queryPageList(bo, pageQuery);
    }

    /**
     * è·å–è¯¦æƒ…
     */
    @SaCheckPermission("xxx:xxx:query")
    @GetMapping("/{id}")
    public R<XxxVo> getInfo(@NotNull(message = "IDä¸èƒ½ä¸ºç©º") @PathVariable Long id) {
        return R.ok(xxxService.queryById(id));
    }

    /**
     * æ–°å¢
     */
    @SaCheckPermission("xxx:xxx:add")
    @Log(title = "XXXç®¡ç†", businessType = BusinessType.INSERT)
    @PostMapping
    public R<Void> add(@Validated(AddGroup.class) @RequestBody XxxBo bo) {
        return toAjax(xxxService.insertByBo(bo));
    }

    /**
     * ä¿®æ”¹
     */
    @SaCheckPermission("xxx:xxx:edit")
    @Log(title = "XXXç®¡ç†", businessType = BusinessType.UPDATE)
    @PutMapping
    public R<Void> edit(@Validated(EditGroup.class) @RequestBody XxxBo bo) {
        return toAjax(xxxService.updateByBo(bo));
    }

    /**
     * åˆ é™¤
     */
    @SaCheckPermission("xxx:xxx:remove")
    @Log(title = "XXXç®¡ç†", businessType = BusinessType.DELETE)
    @DeleteMapping("/{ids}")
    public R<Void> remove(@NotEmpty(message = "IDä¸èƒ½ä¸ºç©º") @PathVariable Long[] ids) {
        return toAjax(xxxService.deleteByIds(List.of(ids)));
    }

    /**
     * å¯¼å‡º
     */
    @SaCheckPermission("xxx:xxx:export")
    @Log(title = "XXXç®¡ç†", businessType = BusinessType.EXPORT)
    @PostMapping("/export")
    public void export(XxxBo bo, HttpServletResponse response) {
        List<XxxVo> list = xxxService.queryList(bo);
        ExcelUtil.exportExcel(list, "XXXæ•°æ®", XxxVo.class, response);
    }
}
```

---

## ğŸ¯ ç¬¬äº”æ­¥: å¼€å‘ä¸šåŠ¡é€»è¾‘

### 5.1 æ·»åŠ ä¸šåŠ¡æ ¡éªŒ

```java
@Override
public Boolean insertByBo(XxxBo bo) {
    // ä¸šåŠ¡æ ¡éªŒ
    if (isNameExists(bo.getXxxName())) {
        throw new ServiceException("åç§°å·²å­˜åœ¨");
    }

    Xxx add = MapstructUtils.convert(bo, Xxx.class);
    return baseMapper.insert(add) > 0;
}

private boolean isNameExists(String name) {
    return baseMapper.exists(Wrappers.<Xxx>lambdaQuery()
        .eq(Xxx::getXxxName, name));
}
```

### 5.2 æ·»åŠ äº‹åŠ¡ç®¡ç†

```java
@Transactional(rollbackFor = Exception.class)
@Override
public Boolean insertByBo(XxxBo bo) {
    // å¤šè¡¨æ“ä½œä½¿ç”¨äº‹åŠ¡
    Xxx add = MapstructUtils.convert(bo, Xxx.class);
    boolean result = baseMapper.insert(add) > 0;

    // å…¶ä»–å…³è”æ“ä½œ...

    return result;
}
```

---

## ğŸ“‹ å¼€å‘æµç¨‹æ£€æŸ¥æ¸…å•

### âœ… è¡¨è®¾è®¡æ£€æŸ¥

- [ ] è¡¨å‰ç¼€ä¸æ¨¡å—å¯¹åº”
- [ ] ä¸»é”®ä½¿ç”¨é›ªèŠ± IDï¼ˆä¸ç”¨ AUTO_INCREMENTï¼‰
- [ ] åŒ…å« `tenant_id` å­—æ®µ
- [ ] åŒ…å«å®¡è®¡å­—æ®µï¼ˆcreate_deptã€create_byã€create_timeã€update_byã€update_timeï¼‰
- [ ] åŒ…å«é€»è¾‘åˆ é™¤å­—æ®µï¼ˆdel_flagï¼‰
- [ ] æ·»åŠ å¿…è¦çš„ç´¢å¼•

### âœ… åç«¯ä»£ç æ£€æŸ¥

- [ ] åŒ…åæ˜¯ `org.dromara.*`
- [ ] Entity ç»§æ‰¿ `TenantEntity`
- [ ] BO ä½¿ç”¨ `@AutoMapper`ï¼ˆå•æ•°ï¼‰
- [ ] Service ä¸ç»§æ‰¿ä»»ä½•åŸºç±»
- [ ] Service ç›´æ¥æ³¨å…¥ Mapperï¼ˆæ—  DAO å±‚ï¼‰
- [ ] `buildQueryWrapper()` åœ¨ Service å®ç°ç±»ä¸­
- [ ] ä½¿ç”¨ `MapstructUtils.convert()` è½¬æ¢å¯¹è±¡
- [ ] Mapper ç»§æ‰¿ `BaseMapperPlus<Entity, VO>`
- [ ] Controller ä½¿ç”¨æ ‡å‡† RESTful è·¯å¾„ï¼ˆ/listã€/{id}ï¼‰
- [ ] ä½¿ç”¨ `@SaCheckPermission` æƒé™æ³¨è§£

### âœ… èœå• SQL æ£€æŸ¥

- [ ] èœå• ID ä¸å†²çª
- [ ] æƒé™æ ‡è¯†ç¬¦ç¬¦åˆè§„èŒƒ
- [ ] åŒ…å«å®Œæ•´çš„æƒé™æŒ‰é’®ï¼ˆlistã€queryã€addã€editã€removeã€exportï¼‰

---

## âŒ å¸¸è§é”™è¯¯

### ç¦æ­¢çš„å†™æ³•

```java
// âŒ é”™è¯¯1: æ³¨å…¥ DAOï¼ˆæœ¬é¡¹ç›®æ²¡æœ‰ DAO å±‚ï¼‰
private final IXxxDao xxxDao;

// âŒ é”™è¯¯2: ä½¿ç”¨ BeanUtils
BeanUtil.copyProperties(bo, entity);

// âŒ é”™è¯¯3: Service ç»§æ‰¿åŸºç±»
public class XxxServiceImpl extends ServiceImpl<XxxMapper, Xxx> { }

// âŒ é”™è¯¯4: ä½¿ç”¨ @AutoMappersï¼ˆå¤æ•°ï¼‰
@AutoMappers({@AutoMapper(target = Xxx.class)})

// âŒ é”™è¯¯5: é”™è¯¯çš„åŒ…å
package com.ruoyi.xxx;
package plus.ruoyi.xxx;

// âŒ é”™è¯¯6: ä½¿ç”¨ AUTO_INCREMENT
id BIGINT(20) AUTO_INCREMENT

// âŒ é”™è¯¯7: é”™è¯¯çš„ API è·¯å¾„
@GetMapping("/pageXxxs")
@GetMapping("/getXxx/{id}")
```

### æ­£ç¡®çš„å†™æ³•

```java
// âœ… æ­£ç¡®1: ç›´æ¥æ³¨å…¥ Mapper
private final XxxMapper baseMapper;

// âœ… æ­£ç¡®2: ä½¿ç”¨ MapstructUtils
MapstructUtils.convert(bo, Xxx.class);

// âœ… æ­£ç¡®3: Service åªå®ç°æ¥å£
public class XxxServiceImpl implements IXxxService { }

// âœ… æ­£ç¡®4: ä½¿ç”¨ @AutoMapperï¼ˆå•æ•°ï¼‰
@AutoMapper(target = Xxx.class)

// âœ… æ­£ç¡®5: æ­£ç¡®çš„åŒ…å
package org.dromara.xxx;

// âœ… æ­£ç¡®6: ä½¿ç”¨é›ªèŠ± ID
id BIGINT(20) NOT NULL

// âœ… æ­£ç¡®7: æ ‡å‡† RESTful è·¯å¾„
@GetMapping("/list")
@GetMapping("/{id}")
```

---

## ğŸ“š å‚è€ƒå®ç°

æŸ¥çœ‹å·²æœ‰çš„å®Œæ•´å®ç°ï¼š

| ç±»å‹ | å‚è€ƒæ–‡ä»¶ |
|------|---------|
| Entity | `org.dromara.demo.domain.TestDemo` |
| BO | `org.dromara.demo.domain.bo.TestDemoBo` |
| VO | `org.dromara.demo.domain.vo.TestDemoVo` |
| Service | `org.dromara.demo.service.impl.TestDemoServiceImpl` |
| Mapper | `org.dromara.demo.mapper.TestDemoMapper` |
| Controller | `org.dromara.demo.controller.TestDemoController` |

---

## ğŸ¯ æ€»ç»“

**å¼€å‘æµç¨‹**ï¼š

```
1ï¸âƒ£ éœ€æ±‚åˆ†æ â†’ æ˜ç¡®åŠŸèƒ½ã€ç¡®å®šæ¨¡å—ä½ç½®
2ï¸âƒ£ è¡¨è®¾è®¡ â†’ é›ªèŠ±IDã€ç§Ÿæˆ·IDã€å®¡è®¡å­—æ®µã€é€»è¾‘åˆ é™¤
3ï¸âƒ£ èœå•SQL â†’ æƒé™æ ‡è¯†ç¬¦è§„èŒƒ
4ï¸âƒ£ åç«¯ä»£ç  â†’ ä¸‰å±‚æ¶æ„ï¼ˆController â†’ Service â†’ Mapperï¼‰
5ï¸âƒ£ ä¸šåŠ¡é€»è¾‘ â†’ æ ¡éªŒã€äº‹åŠ¡ã€å¼‚å¸¸å¤„ç†
6ï¸âƒ£ æµ‹è¯•éªŒè¯ â†’ æ¥å£æµ‹è¯•ã€åŠŸèƒ½æµ‹è¯•
```

**æ ¸å¿ƒåŸåˆ™**ï¼š

- âœ… **åŒ…åæ˜¯ `org.dromara.*`**
- âœ… **ä¸‰å±‚æ¶æ„ï¼Œæ—  DAO å±‚**
- âœ… **Service ç›´æ¥æ³¨å…¥ Mapper**
- âœ… **buildQueryWrapper() åœ¨ Service å±‚**
- âœ… **ä½¿ç”¨ MapstructUtils.convert() è½¬æ¢å¯¹è±¡**
- âœ… **ä¸»é”®ä½¿ç”¨é›ªèŠ± ID**
- âœ… **RESTful API è·¯å¾„è§„èŒƒ**
