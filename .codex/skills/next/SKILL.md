---
name: next
description: |
  当需要获取项目开发的下一步建议、规划开发方向时自动使用此 Skill。

  触发场景：
  - 不知道下一步应该做什么
  - 需要获取开发优先级建议
  - 需要分析当前项目状态并给出建议
  - 需要规划开发工作方向

  触发词：下一步、next、建议、做什么、开发方向、优先级、工作建议、开发建议
---

# /next - 下一步建议

作为项目开发顾问，根据当前项目状态，为您建议下一步应该做什么。

## 🎯 执行流程

### 第一步：快速扫描项目状态

```bash
# 查看最近 Git 提交记录
git log -5 --oneline

# 扫描所有业务模块中的 TODO/FIXME
Grep pattern: "TODO:|FIXME:" path: ruoyi-modules/ glob: "*.java" output_mode: content -B 2

# 检查代码规范和问题
Grep pattern: "package com\.ruoyi\.|BeanUtil\.copy" path: ruoyi-modules/ glob: "*.java" output_mode: files_with_matches
```

### 第二步：分析开发阶段

| 阶段 | 特征 | 功能完成率 |
|------|------|----------|
| 🟢 初期 | 基础框架搭建，功能模块较少 | < 30% |
| 🟡 中期 | 核心功能开发中，模块逐步完善 | 30-70% |
| 🔴 后期 | 功能基本完成，处于优化阶段 | > 70% |

### 第三步：分类问题和建议

- **紧急问题**：安全漏洞、严重 Bug、编译错误
- **重要问题**：功能缺陷、设计问题、规范问题
- **优化建议**：性能优化、代码重构、文档完善

---

## 📊 输出格式

```markdown
# 🎯 下一步建议

**分析时间**：YYYY-MM-DD HH:mm
**分析范围**：全量后端代码

---

## 📌 当前状态

### Git 提交分析
- **最近一次提交**：[commit message] ([commit hash])
- **最近在做**：[根据提交记录推断]
- **提交频率**：[活跃/不活跃]

### 代码状态
- **开发阶段**：🟡 中期（核心功能开发中）
- **代码质量**：良好（无 com.ruoyi 包名问题）
- **规范问题**：3 个接口缺少 @SaCheckPermission 注解

### 代码待办统计
- **TODO 项**：X 个
- **FIXME 项**：X 个
- **编译/运行错误**：无

---

## 🚀 建议优先级

### 🔴 高优先级（必须立即处理）

1. **修复 FIXME 问题**
   - 位置：ruoyi-demo/PaymentService.java:156
   - 问题：退款金额计算错误
   - **快速修复**：`/check` 找出所有 FIXME 并逐一解决

2. **补充缺失的权限注解**
   - 位置：ruoyi-demo 模块 3 个接口
   - **快速修复**：`/check demo` 查出所有问题接口

### 🟡 中优先级（近期应该做）

1. **补充缺失功能模块**
   - **快速开发**：`/crud Payment` 快速生成 CRUD 代码

2. **优化 Service 查询层**
   - **参考代码**：ruoyi-system/SysNoticeServiceImpl.java

### 🟢 低优先级（可以考虑）

1. **性能优化**
2. **代码重构**
3. **单元测试**

---

## 💡 具体行动建议

### 如果您想继续开发新功能：

```bash
/crud Payment        # 快速生成 Payment 模块
/check business      # 检查并修复规范问题
```

### 如果您想优化代码质量：

```bash
/check               # 全量检查
/check business      # 按模块检查
```

---

## 🔗 相关命令

| 命令 | 用途 | 何时使用 |
|------|------|---------|
| `/start` | 快速了解项目 | 初次接触项目 |
| `/check` | 代码规范检查 | 开发完成后、定期检查 |
| `/progress` | 查看项目进度 | 了解完成情况 |
| `/next` | 获取建议 | 不知道下一步做什么 |
| `/dev` | 开发新功能 | 从零开始开发 |
| `/crud` | 快速生成代码 | 表已存在时 |
| `/add-todo` | 添加待办任务 | 跟踪任务 |
```
